<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Stick Figure Valentine's Animation</title>
  <style>
    /* Basic Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background: #f0f0f0;
      font-family: "Helvetica Neue", Arial, sans-serif;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
      position: relative;
    }
    /* SVG Container */
    #animationSVG {
      width: 100%;
      height: 100%;
    }
    /* Ensure smooth transitions on transforms */
    .stick-figure {
      transition: transform 1s ease;
    }
    /* Initial positions */
    #girl {
      /* Girl stands at (250,100) */
      transform: translate(250px, 100px);
    }
    #boy {
      /* Boy starts off-screen left at (-50,100) */
      transform: translate(-50px, 100px);
    }
    /* Speech bubbles styling */
    .speech-bubble {
      position: absolute;
      padding: 6px 10px;
      background: #fff;
      border: 2px solid #333;
      border-radius: 8px;
      font-size: 0.9rem;
      white-space: nowrap;
      opacity: 0;
      transition: opacity 0.5s ease;
      pointer-events: none;
    }
    /* Position relative to the SVG container */
    #boyBubble {
      top: 60px;
      left: 120px;
    }
    #girlBubble {
      top: 60px;
      left: 320px;
    }
    /* Visible class for bubbles */
    .visible {
      opacity: 1;
    }
    /* Animation steps via extra classes for the groups */
    /* Boy approaches the girl */
    .approach {
      transform: translate(200px, 100px);
    }
    /* Boy kneels down (simulate by a slight rotation) */
    .kneel {
      transform: translate(200px, 100px) rotate(20deg);
    }
    /* Girl walks away to the right */
    .girl-leave {
      transform: translate(350px, 100px);
    }
    /* Boy turns toward us (center) with no rotation */
    .to-center {
      transform: translate(150px, 100px) rotate(0deg);
    }
    /* Boy leaves off-screen to the right */
    .boy-leave {
      transform: translate(450px, 100px);
    }
    /* Optional: For a "sad" face, we'll change the stroke color of the boy's mouth */
    .sad .mouth {
      stroke: #333;
      /* Change the path to a frown */
      d: path("M-3,3 Q0,0 3,3");
    }
  </style>
</head>
<body>
  <!-- SVG Container for the Stick Figures -->
  <svg id="animationSVG" viewBox="0 0 500 300">
    <!-- Girl Stick Figure Group -->
    <g id="girl" class="stick-figure">
      <!-- Head -->
      <circle cx="0" cy="0" r="10" stroke="#333" stroke-width="2" fill="none" />
      <!-- Body -->
      <line x1="0" y1="10" x2="0" y2="40" stroke="#333" stroke-width="2" />
      <!-- Arms -->
      <line x1="0" y1="20" x2="-15" y2="30" stroke="#333" stroke-width="2" />
      <line x1="0" y1="20" x2="15" y2="30" stroke="#333" stroke-width="2" />
      <!-- Legs -->
      <line x1="0" y1="40" x2="-10" y2="60" stroke="#333" stroke-width="2" />
      <line x1="0" y1="40" x2="10" y2="60" stroke="#333" stroke-width="2" />
    </g>

    <!-- Boy Stick Figure Group -->
    <g id="boy" class="stick-figure">
      <!-- Head -->
      <circle cx="0" cy="0" r="10" stroke="#333" stroke-width="2" fill="none" />
      <!-- Eyes (for expression) -->
      <circle cx="-3" cy="-2" r="1" fill="#333" />
      <circle cx="3" cy="-2" r="1" fill="#333" />
      <!-- Mouth (simple line; later we might simulate a sad mouth) -->
      <line class="mouth" x1="-3" y1="4" x2="3" y2="4" stroke="#333" stroke-width="1" />
      <!-- Body -->
      <line x1="0" y1="10" x2="0" y2="40" stroke="#333" stroke-width="2" />
      <!-- Arms -->
      <line id="boyLeftArm" x1="0" y1="20" x2="-15" y2="30" stroke="#333" stroke-width="2" />
      <line id="boyRightArm" x1="0" y1="20" x2="15" y2="30" stroke="#333" stroke-width="2" />
      <!-- Flower (small circle added to right arm's end) -->
      <circle id="flower" cx="15" cy="30" r="3" fill="pink" stroke="red" stroke-width="1" opacity="0" />
      <!-- Legs -->
      <line x1="0" y1="40" x2="-10" y2="60" stroke="#333" stroke-width="2" />
      <line x1="0" y1="40" x2="10" y2="60" stroke="#333" stroke-width="2" />
    </g>
  </svg>

  <!-- Speech Bubbles -->
  <div id="boyBubble" class="speech-bubble">I love you</div>
  <div id="girlBubble" class="speech-bubble">No.</div>
  <div id="boySadBubble" class="speech-bubble" style="top: 60px; left: 120px;">
    Happy Valentine's Day. My exam is tomorrow. Bye.
  </div>

  <script>
    // Timeline using setTimeout

    // 1. After 1 second, the boy approaches the girl.
    setTimeout(() => {
      document.getElementById('boy').classList.add('approach');
    }, 1000);

    // 2. After 2 seconds, the boy kneels and his flower appears.
    setTimeout(() => {
      const boy = document.getElementById('boy');
      boy.classList.remove('approach');
      boy.classList.add('kneel');
      // Show the flower by setting opacity
      document.getElementById('flower').style.opacity = 1;
      // Show boy's speech bubble ("I love you")
      document.getElementById('boyBubble').classList.add('visible');
    }, 2000);

    // 3. After 4 seconds, hide boy's speech bubble and let the girl reply.
    setTimeout(() => {
      document.getElementById('boyBubble').classList.remove('visible');
      // Show girl's speech bubble ("No.")
      document.getElementById('girlBubble').classList.add('visible');
      // Girl walks away (apply class to girl)
      document.getElementById('girl').classList.add('girl-leave');
    }, 4000);

    // 4. After 6 seconds, hide girl's speech bubble.
    setTimeout(() => {
      document.getElementById('girlBubble').classList.remove('visible');
      // Boy stands up and walks to center (simulate by removing kneel and moving)
      const boy = document.getElementById('boy');
      boy.classList.remove('kneel');
      boy.classList.add('to-center');
      // Hide the flower (optional)
      document.getElementById('flower').style.opacity = 0;
    }, 6000);

    // 5. After 7 seconds, the boy turns his face sad and delivers his final message.
    setTimeout(() => {
      // (For simplicity, we don't change the SVG facial path but you could modify it)
      // Show the sad speech bubble
      document.getElementById('boySadBubble').classList.add('visible');
    }, 7000);

    // 6. After 9 seconds, the boy leaves the scene.
    setTimeout(() => {
      // Hide the sad speech bubble
      document.getElementById('boySadBubble').classList.remove('visible');
      // Boy leaves to the right.
      document.getElementById('boy').classList.add('boy-leave');
    }, 9000);
  </script>
</body>
</html>
